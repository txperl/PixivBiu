<!DOCTYPE HTML>
<!--
    Multiverse by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>

<head>
    <title>PixivBiu</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1,
            user-scalable=no" />
    <link type="favicon" rel="shortcut icon" href="static/pixiv.png">
    <link rel="stylesheet" href="static/multiverse/assets/css/main.css" />
    <link rel="stylesheet" href="static/multiverse/assets/css/nprogress.css" />
    <noscript>
        <link rel="stylesheet" href="static/multiverse/assets/css/noscript.css" />
    </noscript>
    <link rel="stylesheet" href="static/multiverse/assets/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" href="static/multiverse/assets/css/tooltipster.theme.min.css" />
    <link rel="stylesheet" href="static/multiverse/assets/css/n.css" />
</head>

<body class="is-preload" style="padding: 0 50px;">
    <div class="search-area">
        <div class="bar">
            <input id="srhBox" class="tooltip" placeholder="Biu~" autocomplete="off" title="æœç´¢ Â· å›è½¦æ‰§è¡Œ">
        </div>
        <div id="settings">
            <input id="settingsPageNum" class="tooltip" placeholder="æ¯ç»„é¡µæ•°" autocomplete="off" title="å•æ¬¡æœç´¢é¡µæ•°ï¼Œå»ºè®®å‚æ•°ä¸è¦è¿‡å¤§">
            <input id="settingsIsOriPic" class="tooltip" placeholder="å¤§å›¾é¢„è§ˆ" autocomplete="off"
                title="åœ¨å›¾ç‰‡è¯¦æƒ…é¡µæ˜¾ç¤ºè¾ƒå¤§å°ºå¯¸çš„å›¾ç‰‡ã€‚on: å¼€å¯ï¼Œoff: å…³é—­ï¼ˆè‹¥å›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œå»ºè®®å…³é—­ï¼‰">
            <input id="settingsSearchMode" class="tooltip" placeholder="æœç´¢æ¨¡å¼" autocomplete="off"
                title="tag: éƒ¨åˆ†åŒ¹é…æ ‡ç­¾ï¼Œotag: å…¨åŒ¹é…æ ‡ç­¾ï¼Œdes: åŒ¹é…æ ‡é¢˜æˆ–æè¿°">
            <input id="settingsSortMode" class="tooltip" placeholder="æ’åºæ¨¡å¼" autocomplete="off"
                title="0: æŒ‰æ”¶è—æ•°æ’åºï¼Œ1: æŒ‰äººæ°”(æµè§ˆæ•°)æ’åº">
            <input id="settingsIsAllSort" class="tooltip" placeholder="æ›´å¤šæ’åº" autocomplete="off"
                title="ä¸ºæ‰€æœ‰ç»“æœæ’åºã€‚on: å¼€å¯ï¼Œoff: å…³é—­ï¼ˆå…³é—­æ—¶ä»…ä¸ºå…³é”®è¯æœç´¢æ’åºï¼‰">
            <input id="settingsRvrProxyUrl" class="tooltip" placeholder="å›¾ç‰‡åä»£åœ°å€" autocomplete="off"
                title="Pixiv å›¾ç‰‡åå‘ä»£ç†åœ°å€ï¼ˆå¦‚æœä¸æ˜¯å¾ˆæ‡‚è¯·å‹¿ä¿®æ”¹ï¼‰" hidden>
            <br>
            <button id="btnSaveSettings" onclick="javascript:
                    saveSettingsCookie();">ä¿å­˜</button>
        </div>
    </div>

    <!-- Wrapper -->
    <div id="wrapper">

        <!-- Header -->
        <header id="header">
            <h1><a href="./"><strong>PixivBiu</strong>@2.0</a></h1>
            <h1 id="progressDownloadingPics"></h1>
            <nav>
                <ul id="rstHeaderShow">
                    <li><a href="javascript: isShowSettings();">æœç´¢è®¾ç½®</a></li>
                    <li><a href="#footer" class="icon solid fa-info-circle">å…³äº</a></li>
                </ul>
            </nav>
        </header>

        <!-- Main -->
        <div id="main">
            <article id="codeBox" class="thumb">
                <a href="javascript: 0;" class="imageBtn pop_ctrl"><img src="static/multiverse/images/thumbs/01.jpg"
                        alt="" /></a>
                <h2>æŒ‡ä»¤åˆé›†</h2>
                <ul>
                    <li><a href="javascript: changeSrhBox('@su={user_name}');">@su={user_name}</a> #ç”¨æˆ·æœç´¢</li>
                    <li><a href="javascript: changeSrhBox('@w={work_id}');">@w={work_id}</a> #æŒ‡å®šä½œå“</li>
                    <li><a href="javascript: changeSrhBox('@u={user_id} -i');">@u={user_id} -i</a> #ç”¨æˆ·æ’ç”»</li>
                    <li><a href="javascript: changeSrhBox('@u={user_id} -c');">@u={user_id} -c</a> #ï½æ¼«ç”»</li>
                    <li><a href="javascript: changeSrhBox('@u={user_id} -m');">@u={user_id} -m</a> #ï½æ”¶è—</li>
                    <li><a href="javascript: changeSrhBox('@u={user_id} -f');">@u={user_id} -f</a> #ï½å…³æ³¨åˆ—è¡¨</li><br>
                    <li>ï¼ˆå°† {xxxx_id} æ›¿æ¢ä¸ºç›¸åº” IDï¼‰</li>
                </ul>
            </article>
            <article id="rankBox" class="thumb">
                <a href="javascript: 0;" class="imageBtn pop_ctrl"><img src="static/multiverse/images/thumbs/02.jpg"
                        alt="" /></a>
                <h2>æ’è¡Œæ¦œ</h2>
                <ul>
                    <li><a href="javascript: getRank('day');">æ—¥å›¾</a></li>
                    <li><a href="javascript: getRank('week');">å‘¨å›¾</a></li>
                    <li><a href="javascript: getRank('month');">æœˆå›¾</a></li>
                    <li><a href="javascript: getRank('day_manga');">æ—¥æ¼«</a></li>
                    <li><a href="javascript: getRank('week_manga');">å‘¨æ¼«</a></li>
                    <li><a href="javascript: getRank('month_manga');">æœˆæ¼«</a></li>
                    <li><a href="javascript: getRank('day_r18');">æ—¥R18</a></li>
                    <li><a href="javascript: getRank('week_r18');">å‘¨R18</a></li>
                    <li><a href="javascript: getRank('week_rookie');">æ–°äºº</a></li>
                </ul>
            </article>
            <article id="myBox" class="thumb">
                <a class="imageBtn pop_ctrl"><img src="static/multiverse/images/thumbs/03.jpg" alt="" /></a>
                <h2>æˆ‘çš„</h2>
                <ul>
                    <li><a href="javascript: getMarks();">æ”¶è—@å…¬å¼€</a></li>
                    <li><a href="javascript: getMarks('my');">æ”¶è—@éšè—</a></li>
                    <li><a href="javascript: getFollowing();">å…³æ³¨@å…¬å¼€</a></li>
                    <li><a href="javascript: getFollowing('my');">å…³æ³¨@éšè—</a></li>
                    <li><a href="javascript: getNewToMe();">ç”¨æˆ·æ–°ä½œ@å…¬å¼€</a></li>
                    <li><a href="javascript: getNewToMe('private');">ç”¨æˆ·æ–°ä½œ@éšè—</a></li>
                    <li><a href="javascript: getRecommend('illust');">æ¨è@æ’ç”»</a></li>
                    <li><a href="javascript: getRecommend('manga');">æ¨è@æ¼«ç”»</a></li>
                </ul>
            </article>
            <article class="thumb">
                <a href="javascript: changeSrhBox('', 2);" class="imageBtn"><img
                        src="static/multiverse/images/thumbs/04.jpg" alt="" /></a>
                <h2>æœç´¢</h2>
            </article>
        </div>

        <!-- Footer -->
        <footer id="footer" class="panel">
            <div class="inner split">
                <div>
                    <section>
                        <h2>PixivBiu@2.0.0b4</h2>
                        <p>ä¸€æ¬¾ä¸é”™çš„ Pixiv æœç´¢<b>è¾…åŠ©</b>å·¥å…·ã€‚<br>åŸºäº Python@3.7 æ„å»ºã€‚</p>
                    </section>
                    <section>
                        <h2>ä¸€äº›é“¾æ¥</h2>
                        <ul class="icons">
                            <li>
                                <a target="_blank" href="https://github.com/txperl/PixivBiu" class="icon
                                        brands fa-github"><span class="label">GitHub</span></a>
                            </li>
                            <li>
                                <a target="_blank" href="https://biu.tls.moe/" class="icon
                                        solid fa-air-freshener"><span class="label">Official</span></a>
                            </li>
                            <li>
                                <a target="_blank" href="mailto:txperl@gmail.com" class="icon solid fa-envelope"><span
                                        class="label">Email</span></a>
                            </li>
                        </ul>
                    </section>
                    <p class="copyright">
                        &copy;
                        <a target="_blank" href="https://tls.moe/">é“œé”£çƒ§è®¡åˆ’</a>.
                        <br>Created by <a target="_blank" href="https://yumoe.com/">Trii Hisa</a>.<br>Design by <a
                            target="_blank" href="https://html5up.net/">HTML5 UP</a>.
                    </p>
                </div>
                <div>
                    <section>
                        <h2>å…¶ä»–</h2>
                        <a target="_blank" href="https://biu.tls.moe/#/usage/basic">å¦‚ä½•ä½¿ç”¨ï¼Ÿ</a> & <a target="_blank"
                            href="mailto:txperl@gmail.com?subject=ã€ŒPixivBiuã€">åé¦ˆ</a><br><br>
                        <button id="btnCheckUP" onclick="checkOutdated();" class="primary tooltip"
                            title="BiuBiuBiu~">æ£€æµ‹æ›´æ–°</button><br><br>
                        <p>If you feel your rights have been violated, please contact me through the above
                            information.<br>So sorry.</p>
                    </section>
                </div>
            </div>
        </footer>

    </div>

    <!-- Scripts -->
    <script src="static/multiverse/assets/js/jquery.min.js"></script>
    <script src="static/multiverse/assets/js/jquery.poptrox.min.js"></script>
    <script src="static/multiverse/assets/js/jquery.popmenu.min.js"></script>
    <script src="static/multiverse/assets/js/js.cookie.min.js"></script>
    <script src="static/multiverse/assets/js/browser.min.js"></script>
    <script src="static/multiverse/assets/js/breakpoints.min.js"></script>
    <script src="static/multiverse/assets/js/nprogress.js"></script>
    <script src="static/multiverse/assets/js/util.js"></script>
    <script src="static/multiverse/assets/js/main.js"></script>
    <script src="static/multiverse/assets/js/tooltipster.bundle.min.js"></script>
    <script src="static/multiverse/assets/js/searchSettings.js"></script>
    <script src="static/multiverse/assets/js/statusMsg.js"></script>
    <script src="static/multiverse/assets/js/searchActions.js"></script>
    <script src="static/multiverse/assets/js/functions.js"></script>
    <script>
        var tmpCode;
        var tmpPageData;
        var tmpSearchSettings = {};
        var settingsMods = {
            '#settingsPageNum': ['pixivbiu_searchPageNum', 5, 'æ¯ç»„é¡µæ•°'],
            '#settingsIsOriPic': ['pixivbiu_displayIsOriPic', 'off', 'å¤§å›¾é¢„è§ˆ'],
            '#settingsIsAllSort': ['pixivbiu_funIsAllSort', 'off', 'æ›´å¤šæ’åº'],
            '#settingsSortMode': ['pixivbiu_sortMode', '0', 'æ’åºæ¨¡å¼'],
            '#settingsSearchMode': ['pixivbiu_searchMode', 'tag', 'æœç´¢æ¨¡å¼'],
            '#settingsRvrProxyUrl': ['pixivbiu_RvrProxyUrl', 'https://i.pixiv.cat', 'å›¾ç‰‡åä»£åœ°å€'],
        };

        $(document).ready(function () {
            loadSearchSettings();
            $('#myBox').popmenu();
            $('#codeBox').popmenu();
            $('#rankBox').popmenu();
            loadTooltip();
            var c = getGetArg('code');
            if (c != '') {
                c = unescape(c);
                setTimeout('changeSrhBox("' + c + '", 2)', 300);
            }
        });

        $('#srhBox').keypress(function (e) {
            if (e.which == 13 && $('#srhBox').val() != '') {
                srhBoxDo();
            }
        });

        $("#srhBox").bind("input propertychange", function (event) {
            srhBoxStu();
        });

        function srhBoxDo() {
            var c = $('#srhBox').val();
            if ((m = regMatch(/@u=(.*?) -(.)/g, c)).length == 3) {
                var user = m[1];
                var code = m[2];
                if (code == 'i') {
                    $('title').html('TA æ’ç”» - PixivBiu');
                    getUserWorks(user, 'illust');
                } else if (code == 'c') {
                    $('title').html('TA æ¼«ç”» - PixivBiu');
                    getUserWorks(user, 'manga');
                } else if (code == 'm') {
                    $('title').html('TA æ”¶è— - PixivBiu');
                    getMarks(user);
                } else if (code == 'f') {
                    $('title').html('TA å…³æ³¨ - PixivBiu');
                    getFollowing(user);
                }
            } else if ((m = regMatch(/@s=(.*?) -(.)/g, c)).length == 3) {
                var kt = m[1];
                var code = m[2];
                if (code == 't') {
                    $('title').html(kt + ' - æ ‡ç­¾æœç´¢');
                    searchForWorks(kt, 0, 1, 'tag');
                } else if (code == 'o') {
                    $('title').html(kt + ' - å…¨æ ‡ç­¾æœç´¢');
                    searchForWorks(kt, 0, 1, 'otag');
                } else if (code == 'd') {
                    $('title').html(kt + ' - æ ‡é¢˜æˆ–æè¿°æœç´¢');
                    searchForWorks(kt, 0, 1, 'des');
                }
            } else if ((m = regMatch(/@w=(.*?)$/g, c)).length == 2) {
                $('title').html('ä½œå“ - PixivBiu');
                getOneWork(m[1]);
            } else if ((m = regMatch(/@su=(.*?)$/g, c)).length == 2) {
                $('title').html('ç”¨æˆ·æœç´¢ - PixivBiu');
                searchForUsers(m[1]);
            } else {
                $('title').html('PixivBiu');
                searchForWorks(c);
            }
            srhBoxStu();
        }

        function srhBoxStu() {
            var c = $('#srhBox').val();
            if ((m = regMatch(/@u=(.*?) -(.)/g, c)).length == 3) {
                var code = m[2];
                if (code == 'i') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· è·å–TAçš„ æ’ç”» ä½œå“');
                } else if (code == 'c') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· è·å–TAçš„ æ¼«ç”» ä½œå“');
                } else if (code == 'm') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· è·å–TAçš„ æ”¶è— åˆ—è¡¨');
                } else if (code == 'f') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· è·å–TAçš„ å…³æ³¨ åˆ—è¡¨');
                } else {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· -i æ’ç”»ã€-c æ¼«ç”»ã€-m æ”¶è—åˆ—è¡¨ã€-f å…³æ³¨åˆ—è¡¨');
                }
            } else if ((m = regMatch(/@s=(.*?) -(.)/g, c)).length == 3) {
                var code = m[2];
                if (code == 't') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· éƒ¨åˆ†åŒ¹é…æ ‡ç­¾æœç´¢');
                } else if (code == 'o') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· å…¨åŒ¹é…æ ‡ç­¾æœç´¢');
                } else if (code == 'd') {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· åŒ¹é…æ ‡é¢˜æˆ–æè¿°æœç´¢');
                } else {
                    $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ Â· -t éƒ¨åˆ†æ ‡ç­¾ã€-o å…¨æ ‡ç­¾ã€-d æ ‡é¢˜æˆ–æè¿°');
                }
            } else if (regMatch(/@u=(.*?)$/g, c).length == 2) {
                $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ @u={user_id} -{type} Â· è·å–æŒ‡å®šç”¨æˆ·çš„ -i æ’ç”»ã€-c æ¼«ç”»ã€-m æ”¶è—åˆ—è¡¨ã€-f å…³æ³¨åˆ—è¡¨');
            } else if (regMatch(/@w=(.*?)$/g, c).length == 2) {
                $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ @w={work_id} Â· è·å–æŒ‡å®šä½œå“');
            } else if (regMatch(/@su=(.*?)$/g, c).length == 2) {
                $('#srhBox').tooltipster('content', 'æŒ‡ä»¤ @su={keyword} Â· ç”¨æˆ·æœç´¢');
            } else {
                $('#srhBox').tooltipster('content', 'æœç´¢ Â· å›è½¦æ‰§è¡Œ');
            }
        }

        function grpIdxBoxStu() {
            var c = $('#headerGrpIdxBox').val();
            var oric = $('#headerGrpIdxBox').attr('placeholder');
            var itm = $('#btnHeaderNext');
            var itmi = $('#btnHeaderNext i');
            var txt = 'ä¸‹ä¸€ç»„';
            if (itm.length <= 0) {
                itm = $('#btnHeaderBack');
                itmi = $('#btnHeaderBack i');
                txt = 'è¿”å›';
            }
            if (itm.length <= 0)
                return;
            if (c != '' && !isNaN(c) && c != oric) {
                itm.attr('href', 'javascript: grpActChon(\'now\', ' + Number(c) + ');');
                itmi.tooltipster('content', 'è·³è½¬');
            } else {
                itm.attr('href', 'javascript: grpActChon(\'next\');');
                itmi.tooltipster('content', txt);
            }
        }

        function dlPageAll() {
            $('.thumbAction').each(function () {
                if ($(this).children('a:last')[0]['target'] != '_blank') {
                    $(this).children('a:last')[0].click();
                }
            });
        }

        function showPics(title = '', reLoadList = ['main', 'header'], c = tmpPageData) {
            var rstHtml = '';
            var headerHtml = '<li><a href="javascript: isShowSettings();">æœç´¢è®¾ç½®</a></li>';
            var typeName = {
                "illustration": "å›¾",
                "manga": "æ¼«",
                "ugoira": "åŠ¨",
                "other": "å…¶ä»–"
            }
            if (c.rst && c.rst.data) {
                var i = 0;
                var data = c.rst.data;
                var groupIndex = Number(c['args']['ops']['groupIndex']);

                // æ•´ç†ç»“æœ
                // ç”¨æˆ·ä½œå“ç±»çš„ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º
                if (c.rst.data.length > 0 && c['args']['ops']['method'] == 'userWorks') {
                    if (data[0]['author']['is_followed']) {
                        var li = '<a id="follow_' + data[0]['author']['id'] + '" href="javascript: doFollow(' + data[0]['author']['id'] + ', \'del\');"><b class="tooltip" title="å–æ¶ˆå…³æ³¨"><hicon>ğŸ’˜</hicon></b></a>';
                    } else {
                        var li = '<a id="follow_' + data[0]['author']['id'] + '" href="javascript: doFollow(' + data[0]['author']['id'] + ', \'add\');"><b class="tooltip" title="å…³æ³¨"><hicon>ğŸ’—</hicon></b></a>';
                    }
                    li += '<a target="_blank" href="https://www.pixiv.net/users/' + data[0]['author']['id'] + '"><d class="tooltip" title="æ‰“å¼€ç”»å¸ˆ Pixiv ä¸»é¡µ">Pixiv</d></a>';
                    li += '<a target="_blank" href=".?code=%40u%3d' + data[0]['author']['id'] + '%20-f"><op class="tooltip" title="è·å– TA çš„å…³æ³¨åˆ—è¡¨">å…³æ³¨åˆ—è¡¨</op></a>';
                    rstHtml += '<article class="thumb"><a class="imageBtn"><img src="' + data[0]['all']['user']['profile_image_urls']['medium'].replace('i.pximg.net', 'i.pixiv.cat') + '" alt="" /></a><h2>ç”»å¸ˆ@' + data[0]['author']['name'] + '</h2><section class="thumbAction">' + li + '</section></article>';
                }

                // ç”¨æˆ·åˆ—è¡¨æ•´ç†
                for (i = 0; i < data.length && (c['args']['ops']['method'] == 'userFollowing' || c['args']['ops']['method'] == 'searchUsers'); i++) {
                    if (data[i]['is_followed']) {
                        var li = '<a id="follow_' + data[i]['id'] + '" href="javascript: doFollow(' + data[i]['id'] + ', \'del\');"><b class="tooltip" title="å–æ¶ˆå…³æ³¨"><hicon>ğŸ’˜</hicon></b></a>';
                    } else {
                        var li = '<a id="follow_' + data[i]['id'] + '" href="javascript: doFollow(' + data[i]['id'] + ', \'add\');"><b class="tooltip" title="å…³æ³¨"><hicon>ğŸ’—</hicon></b></a>';
                    }
                    li += '<a target="_blank" href=".?code=%40u%3d' + data[i]['id'] + '%20-i"><d class="tooltip" title="è·å– TA çš„ä½œå“">ğŸ”ä½œå“</d></a>';
                    rstHtml += '<article class="thumb"><a class="imageBtn"><img src="' + data[i]['profile_image_urls']['medium'].replace('i.pximg.net', 'i.pixiv.cat') + '" alt="" /></a><h2>' + data[i]['name'] + '</h2><section class="thumbAction">' + li + '</section></article>';
                }

                // é€šç”¨ä½œå“æ•´ç†
                for (i = 0; i < data.length && (c['args']['ops']['method'] != 'userFollowing' && c['args']['ops']['method'] != 'searchUsers'); i++) {
                    var extra = '';
                    var imgUrlCover = data[i]['image_urls']['medium'].replace('https://i.pximg.net', tmpSearchSettings['pixivbiu_RvrProxyUrl']);
                    var imgUrl = data[i]['image_urls']['large'].replace('https://i.pximg.net', tmpSearchSettings['pixivbiu_RvrProxyUrl']);
                    var bookedNum = data[i]['total_bookmarked'];

                    if (data[i]['all']['meta_pages'].length > 0) {
                        typeName['illustration'] = 'å¤šå›¾';
                        typeName['manga'] = 'æ¼«ç”»';
                        extra += '<a target="_blank" href=".?code=%40w%3d' + data[i]['id'] + '"><op class="tooltip" title="æŸ¥çœ‹å®Œæ•´ä½œå“">ğŸ‘€</op></a>';
                    } else {
                        typeName['illustration'] = 'å›¾';
                        typeName['manga'] = 'å•æ¼«';
                    }

                    if (tmpSearchSettings['pixivbiu_displayIsOriPic'] != 'on')
                        imgUrl = imgUrlCover;

                    if (c['args']['ops']['method'] == 'rank')
                        bookedNum = '';

                    // æ”¶è—æŒ‰é’®
                    if (data[i]['is_bookmarked']) {
                        extra += '<a id="marks_' + data[i]['id'] + '" href="javascript: doBookmark(' + data[i]['id'] + ', \'del\');"><b class="tooltip" title="å–æ¶ˆæ”¶è—"><hicon>ğŸ’˜</hicon>' + bookedNum + '</b></a>';
                    } else {
                        extra += '<a id="marks_' + data[i]['id'] + '" href="javascript: doBookmark(' + data[i]['id'] + ', \'add\');"><b class="tooltip" title="æ”¶è—"><hicon>ğŸ’—</hicon>' + bookedNum + '</b></a>';
                    }

                    // ä¸‹è½½å½’ç±»ç”¨çš„æ–‡ä»¶å¤¹åç§°
                    if (c['args']['fun']['kt']) {
                        var kt = c['args']['fun']['kt'];
                    } else if (c['args']['ops']['method'] == 'userWorks') {
                        var kt = 'ç”»å¸ˆ#' + data[0]['author']['name'] + '@' + data[0]['author']['id'];
                    } else if (c['args']['ops']['method'] == 'userMarks') {
                        var kt = 'æ”¶è—@' + c['args']['fun']['userID'];
                    } else if (c['args']['ops']['method'] == 'rank') {
                        var kt = 'æ’è¡Œæ¦œ@' + c['args']['fun']['mode'];
                    } else if (c['args']['ops']['method'] == 'oneWork') {
                        var kt = 'ä½œå“';
                    } else {
                        var kt = c['args']['ops']['method'];
                    }

                    // ä¸‹è½½æŒ‰é’®
                    extra += '<a id="dl_' + data[i]['id'] + '" href="javascript: doDownloadPic(\'' + kt + '\', ' + data[i]['id'] + ', ' + String(i) + ');"><d class="tooltip" title="ä¸‹è½½">' + typeName[data[i]['type']] + '</d></a>';

                    // å›¾ç‰‡é¢„è§ˆå†…å®¹
                    var extraText = '<a target="_blank" href=".?code=%40u%3d' + data[i]['author']['id'] + '%20-i">ğŸ”ä½œè€…æ’ç”»</a> <a target="_blank" href=".?code=%40u%3d' + data[i]['author']['id'] + '%20-c">ğŸ”ä½œè€…æ¼«ç”»</a>';

                    if (data[i]['all']['meta_pages'].length > 0) {
                        extraText = '<a target="_blank" href=".?code=%40w%3d' + data[i]['id'] + '">ğŸ‘€æŸ¥çœ‹</a> ' + extraText;
                    }

                    // å›¾ç‰‡ä¿¡æ¯å±•ç¤º
                    var desText = '<h2><a target="_blank" href="https://www.pixiv.net/artworks/' + data[i]['id'] + '">' + data[i]['title'] + '</a></h2><p>Created by <a target="_blank" href="https://www.pixiv.net/users/' + data[i]['author']['id'] + '">' + data[i]['author']['name'] + '</a> on ' + data[i]['created_time'] + '<br>#æ”¶è—' + data[i]['total_bookmarked'] + ' #æµè§ˆ' + data[i]['total_viewed'] + '</p>';
                    //// æ ‡ç­¾
                    var tagss = '<p style="max-width: 25%;">';
                    for (let kk = 0; kk < data[i]['tags'].length; kk++) {
                        tagss = tagss + '<a target="_blank" href=".?code=%40s%3d' + escape(data[i]['tags'][kk]) + ' -o">#' + data[i]['tags'][kk] + '</a> ';
                    }
                    desText = tagss + '</p>' + desText;

                    if (c['args']['ops']['method'] == 'oneWork' && i != 0) {
                        extra = '';
                        extraText = '';
                        desText = '';
                    }

                    // æœ€ç»ˆç»“æœ
                    rstHtml += '<article id="art_' + data[i]['id'] + '" class="thumb"><a href="' + imgUrl + '" class="image"><img src="' + imgUrlCover + '" alt="' + data[i]['title'] + '" /></a>' + desText + '<p>' + extraText + '</p><section class="thumbAction">' + extra + '</section></article>';
                }

                // ä¸€é”®ä¸‹è½½
                headerHtml += '<li><a class="tooltip" href="javascript: dlPageAll();" title="ä¸‹è½½æœ¬é¡µæ‰€æœ‰å›¾ç‰‡ï¼ˆåŸå›¾ï¼‰">ä¸‹è½½</a></li>';

                // ç¼“å­˜æ–‡ä»¶
                if (tmpCode == 2) {
                    headerHtml += '<li><a href="javascript: searchForWorks(\'' + c['args']['fun']['kt'] + '\', ' + groupIndex + ', 0);">åˆ·æ–°ç¼“å­˜</a></li>';
                } else {
                    headerHtml += '<li><a href="javascript: grpActChon(\'now\');">åˆ·æ–°</a></li>';
                }

                // è¿”å›æŒ‰é’®
                if (groupIndex > 0) {
                    headerHtml += '<li><a id="btnHeaderBack" href="javascript: grpActChon(\'back\');"><i class="icon solid fa-chevron-circle-left tooltip" title="è¿”å›"></i></a></li>';
                } else if (groupIndex == 0) {
                    headerHtml += '<li><a href="."><i class="icon solid fa-home tooltip" title="ä¸»é¡µ"></i></a></li>';
                }

                // ç»„åºå·è¾“å…¥æ¡†
                if (c['args']['ops']['method'] != 'userMarks') {
                    headerHtml += '<li><input oninput="grpIdxBoxStu();" id="headerGrpIdxBox" class="tooltip" placeholder="' + c['args']['ops']['groupIndex'] + '" autocomplete="off" title="ç»„åºå·"></li>';
                }

                // ä¸‹ä¸€ç»„æŒ‰é’®
                if (data.length != 0) {
                    headerHtml += '<li><a id="btnHeaderNext" href="javascript: grpActChon(\'next\');"><i class="icon solid fa-chevron-circle-right tooltip" title="ä¸‹ä¸€ç»„"></i></a></li>';
                } else {
                    rstHtml = btnGetHTML('none');
                }

                // è¾“å‡º
                $('#main').html(rstHtml);

                if ($.inArray('header', reLoadList) >= 0) {
                    $('#rstHeaderShow').html(headerHtml);
                }

                reMainJs(jQuery, reLoadList);
            } else {
                $('#main').html(btnGetHTML('none'));
                reMainJs(jQuery, ['main']);
            }
            // åŠ¨ç”»è¿‡æ¸¡
            window.setTimeout(function () {
                $('body').removeClass('is-preload');
                if (title != '') {
                    $('.search-area').addClass('search-area-by');
                    $('#srhBox').attr('placeholder', title);
                }
            }, 100);
            loadTooltip();
        }
    </script>
</body>

</html>